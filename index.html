<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</title>
    <style>
        :root {
            --primary-color: #40a7e3;
            --income-color: #34C759;
            --expense-color: #FF3B30;
            --bg-color: #F2F2F7;
            --card-bg: rgba(255, 255, 255, 0.85); /* –£–≤–µ–ª–∏—á–µ–Ω–∞ –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å */
            --text-color: #000000;
            --header-text: #1C1C1E; /* –ù–æ–≤—ã–π —Ü–≤–µ—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
            --secondary-text: #8E8E93;
            --border-radius: 16px;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --blur: blur(15px);
        }

        .dark-theme {
            --primary-color: #64b5f6;
            --income-color: #30D158;
            --expense-color: #FF453A;
            --bg-color: #000000;
            --card-bg: rgba(30, 30, 30, 0.85); /* –£–≤–µ–ª–∏—á–µ–Ω–∞ –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å */
            --text-color: #FFFFFF;
            --header-text: #FFFFFF; /* –ë–µ–ª—ã–π –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ */
            --secondary-text: #8E8E93;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            padding: 16px;
            transition: background-color 0.3s, color 0.3s;
            line-height: 1.4;
            /* –§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            background-image: url('https://i.pinimg.com/1200x/09/42/81/0942812567b8bd8717e0c458290d54f8.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
        }

        .dark-theme {
            background-color: rgba(0, 0, 0, 0.7);
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 24px;
            padding: 20px;
            background: var(--card-bg);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 6px;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            letter-spacing: -0.5px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        header p {
            font-size: 16px;
            color: var(--secondary-text);
            font-weight: 400;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .balance-card {
            background: var(--card-bg);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .balance-card h2 {
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 12px;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .balance-amount {
            font-size: 36px;
            font-weight: 800;
            margin: 16px 0;
            letter-spacing: -1px;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ —Å—É–º–º—ã */
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .income-expense {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            gap: 12px;
        }

        .income, .expense {
            padding: 16px;
            border-radius: 14px;
            width: 48%;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .income {
            background: rgba(52, 199, 89, 0.2);
            color: var(--income-color);
        }

        .expense {
            background: rgba(255, 59, 48, 0.2);
            color: var(--expense-color);
        }

        .income h3, .expense h3 {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 6px;
            opacity: 0.9;
        }

        .income div, .expense div {
            font-size: 18px;
            font-weight: 700;
        }

        .transactions {
            background: var(--card-bg);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border-radius: var(--border-radius);
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .transactions h2 {
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 700;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .transaction-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            margin: 8px 0;
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: all 0.2s ease;
        }

        .dark-theme .transaction-item {
            background: rgba(255, 255, 255, 0.15);
        }

        .transaction-item:active {
            transform: scale(0.98);
            background: rgba(255, 255, 255, 0.7);
        }

        .dark-theme .transaction-item:active {
            background: rgba(255, 255, 255, 0.2);
        }

        .transaction-amount.income {
            color: var(--income-color);
            font-weight: 700;
            font-size: 16px;
        }

        .transaction-amount.expense {
            color: var(--expense-color);
            font-weight: 700;
            font-size: 16px;
        }

        .transaction-details {
            flex-grow: 1;
            margin-left: 16px;
        }

        .transaction-details div:first-child {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ */
        }

        .transaction-category {
            font-size: 14px;
            color: var(--secondary-text);
            font-weight: 400;
        }

        .add-transaction {
            background: var(--card-bg);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border-radius: var(--border-radius);
            padding: 24px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .add-transaction h2 {
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 700;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 15px;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ */
        }

        input, select {
            width: 100%;
            padding: 16px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.7);
            color: var(--text-color);
            font-size: 16px;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .dark-theme input,
        .dark-theme select {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.3);
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(64, 167, 227, 0.2);
            background: rgba(255, 255, 255, 0.8);
        }

        .dark-theme input:focus, 
        .dark-theme select:focus {
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-group {
            display: flex;
            gap: 12px;
        }

        @media (max-width: 768px) {
            .btn-group {
                flex-direction: column; /* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –∫–Ω–æ–ø–∫–∏ –¥—Ä—É–≥ –ø–æ–¥ –¥—Ä—É–≥–æ–º */
            }
        }

        button {
            flex: 1;
            padding: 18px;
            border: none;
            border-radius: 14px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        button:active {
            transform: scale(0.95);
        }

        .btn-income {
            background: rgba(52, 199, 89, 0.8);
            color: white;
        }

        .btn-income:active {
            background: rgba(52, 199, 89, 0.9);
        }

        .btn-expense {
            background: rgba(255, 59, 48, 0.8);
            color: white;
        }

        .btn-expense:active {
            background: rgba(255, 59, 48, 0.9);
        }

        .theme-toggle {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 60px;
            height: 60px;
            border-radius: 12px; /* –ú–µ–Ω—å—à–µ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–ª—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π —Ñ–æ—Ä–º—ã */
            background: rgb(27, 27, 27); /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç */
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 1000;
            font-size: 24px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .theme-toggle:active {
            transform: scale(0.9);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .theme-selector {
            position: fixed;
            bottom: 95px;
            right: 24px;
            width: 60px;
            height: 60px;
            border-radius: 12px; /* –ú–µ–Ω—å—à–µ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–ª—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–π —Ñ–æ—Ä–º—ã */
            background: rgb(27, 27, 27); /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ü–≤–µ—Ç */
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 1000;
            font-size: 24px;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .theme-selector:active {
            transform: scale(0.9);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--secondary-text);
            font-size: 16px;
            font-weight: 500;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã */
        .theme-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .theme-modal-content {
            background: var(--card-bg);
            backdrop-filter: var(--blur);
            -webkit-backdrop-filter: var(--blur);
            border-radius: var(--border-radius);
            padding: 24px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .theme-modal h2 {
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 700;
            color: var(--header-text); /* –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —Ü–≤–µ—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            text-align: center;
        }

        .theme-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .theme-option {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            aspect-ratio: 1/1;
            transition: transform 0.2s ease;
            border: 3px solid transparent;
        }

        .theme-option.selected {
            border-color: var(--primary-color);
        }

        .theme-option:active {
            transform: scale(0.95);
        }

        .theme-option img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .theme-option-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px;
            text-align: center;
            font-size: 14px;
        }

        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ */
        @media (max-width: 768px) {
            .income-expense {
                flex-direction: column; /* –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
            
            .income, .expense {
                width: 100%; /* –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 12px;
            }
            
            .balance-amount {
                font-size: 32px;
            }
            
            .income, .expense {
                padding: 14px;
            }
            
            .income div, .expense div {
                font-size: 16px;
            }
            
            button {
                padding: 16px;
            }
            
            .theme-toggle, .theme-selector {
                width: 56px;
                height: 56px;
                bottom: 20px;
                right: 20px;
            }
            
            .theme-selector {
                bottom: 86px;
            }
            
            .theme-options {
                grid-template-columns: 1fr;
            }
        }

        /* –ê–Ω–∏–º–∞ations –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏ */
        .balance-card, .transactions, .add-transaction, .transaction-item {
            transition: all 0.3s ease;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
        .dark-theme .balance-card h2,
        .dark-theme .transactions h2,
        .dark-theme .add-transaction h2,
        .dark-theme header h1,
        .dark-theme header p {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }

        .dark-theme .income {
            background: rgba(52, 199, 89, 0.15);
        }

        .dark-theme .expense {
            background: rgba(255, 59, 48, 0.15);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ–º–æ—â–Ω–∏–∫</h1>
            <p>–£—á–µ—Ç –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</p>
        </header>
        
        <div class="balance-card">
            <h2>–í–∞—à –±–∞–ª–∞–Ω—Å</h2>
            <div class="balance-amount" id="balance">0 ‚ÇΩ</div>
            <div class="income-expense">
                <div class="income">
                    <h3>–î–æ—Ö–æ–¥—ã</h3>
                    <div id="income-total">0 ‚ÇΩ</div>
                </div>
                <div class="expense">
                    <h3>–†–∞—Å—Ö–æ–¥—ã</h3>
                    <div id="expense-total">0 ‚ÇΩ</div>
                </div>
            </div>
        </div>
        
        <div class="transactions">
            <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h2>
            <div class="transaction-list" id="transaction-list">
                <div class="empty-state">–ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π</div>
            </div>
        </div>
        
        <div class="add-transaction">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é</h2>
            <div class="form-group">
                <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <input type="text" id="description" placeholder="–ù–∞ —á—Ç–æ –ø–æ—Ç—Ä–∞—Ç–∏–ª–∏ –∏–ª–∏ –æ—Ç–∫—É–¥–∞ –¥–æ—Ö–æ–¥?">
            </div>
            <div class="form-group">
                <label for="amount">–°—É–º–º–∞ (‚ÇΩ)</label>
                <input type="number" id="amount" placeholder="0">
            </div>
            <div class="form-group">
                <label for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                <select id="category">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–µ</option>
                    <optgroup label="–î–æ—Ö–æ–¥—ã">
                        <option value="salary">–ó–∞—Ä–ø–ª–∞—Ç–∞</option>
                        <option value="freelance">–§—Ä–∏–ª–∞–Ω—Å</option>
                        <option value="investment">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</option>
                        <option value="gift">–ü–æ–¥–∞—Ä–∫–∏</option>
                        <option value="other-income">–î—Ä—É–≥–æ–π –¥–æ—Ö–æ–¥</option>
                    </optgroup>
                    <optgroup label="–†–∞—Å—Ö–æ–¥—ã">
                        <option value="products">–ü—Ä–æ–¥—É–∫—Ç—ã</option>
                        <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                        <option value="house">–ñ–∏–ª—å–µ</option>
                        <option value="cafe">–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã</option>
                        <option value="health">–ó–¥–æ—Ä–æ–≤—å–µ</option>
                        <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                        <option value="clothes">–û–¥–µ–∂–¥–∞</option>
                        <option value="other-expense">–î—Ä—É–≥–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</option>
                    </optgroup>
                </select>
            </div>
            <div class="btn-group">
                <button class="btn-income" onclick="addTransaction('income')">–î–æ—Ö–æ–¥</button>
                <button class="btn-expense" onclick="addTransaction('expense')">–†–∞—Å—Ö–æ–¥</button>
            </div>
        </div>
        
        <div class="theme-toggle" onclick="toggleTheme()">
            üåô
        </div>
        
        <div class="theme-selector" onclick="openThemeModal()">
            üñº
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ç–µ–º—ã -->
    <div class="theme-modal" id="themeModal">
        <div class="theme-modal-content">
            <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ–Ω</h2>
            
            <div class="theme-options">
                <div class="theme-option" data-bg="https://i.pinimg.com/736x/76/f2/e1/76f2e1b76920a1540982ee3b67cd22a8.jpg">
                    <img src="https://i.pinimg.com/736x/76/f2/e1/76f2e1b76920a1540982ee3b67cd22a8.jpg" alt="–§–æ–Ω 1">
                    <div class="theme-option-overlay">black and white flowers</div>
                </div>
                
                <div class="theme-option" data-bg="https://i.pinimg.com/736x/13/8b/08/138b0800ed24891e646211cbaad2a757.jpg">
                    <img src="https://i.pinimg.com/736x/13/8b/08/138b0800ed24891e646211cbaad2a757.jpg" alt="–§–æ–Ω 2">
                    <div class="theme-option-overlay">black and white abstraction</div>
                </div>
                
                <div class="theme-option" data-bg="https://i.pinimg.com/1200x/09/42/81/0942812567b8bd8717e0c458290d54f8.jpg">
                    <img src="https://i.pinimg.com/1200x/09/42/81/0942812567b8bd8717e0c458290d54f8.jpg" alt="–§–æ–Ω 3">
                    <div class="theme-option-overlay">End of Evangelion</div>
                </div>
                
                <div class="theme-option" data-bg="https://i.pinimg.com/736x/54/1e/15/541e15f7caf03a50ea5d9f33625ae1f5.jpg">
                    <img src="https://i.pinimg.com/736x/54/1e/15/541e15f7caf03a50ea5d9f33625ae1f5.jpg" alt="–§–æ–Ω 4">
                    <div class="theme-option-overlay">Rei Ayanami</div>
                </div>
                
                <div class="theme-option" data-bg="https://i.pinimg.com/1200x/e8/73/86/e8738644ceea3c8a3d29a798e71004d9.jpg">
                    <img src="https://i.pinimg.com/1200x/e8/73/86/e8738644ceea3c8a3d29a798e71004d9.jpg" alt="–§–æ–Ω 5">
                    <div class="theme-option-overlay">Licorice</div>
                </div>
                
                <div class="theme-option" data-bg="https://i.pinimg.com/originals/a1/5d/77/a15d778b429a19c336014b27a389e2f8.gif">
                    <img src="https://i.pinimg.com/originals/a1/5d/77/a15d778b429a19c336014b27a389e2f8.gif" alt="–ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω">
                    <div class="theme-option-overlay">Cosmic eye</div>
                </div>
                
                <div class="theme-option" data-bg="https://i.pinimg.com/1200x/33/57/c4/3357c441beb65bf14253b5f8a75c275a.jpg">
                    <img src="https://i.pinimg.com/1200x/33/57/c4/3357c441beb65bf14253b5f8a75c275a.jpg" alt="–§–æ–Ω 6">
                    <div class="theme-option-overlay">Little vampire</div>
                </div>
            </div>
        </div>
    </div>

    <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
    let transactions = [];
    let isDarkTheme = false;
    let currentBackground = 'https://i.pinimg.com/1200x/09/42/81/0942812567b8bd8717e0c458290d54f8.jpg';

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–µ–ª —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á
    function formatNumber(number) {
        return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
    }

    // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
    function loadData() {
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏–∑ localStorage
        transactions = JSON.parse(localStorage.getItem('transactions')) || [];
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–º—É –∏–∑ localStorage
        isDarkTheme = localStorage.getItem('isDarkTheme') === 'true';
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ñ–æ–Ω –∏–∑ localStorage
        currentBackground = localStorage.getItem('background') || 'https://i.pinimg.com/1200x/09/42/81/0942812567b8bd8717e0c458290d54f8.jpg';
        
        updateUI();
        applyTheme();
    }

    // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
    function saveData() {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ localStorage
        localStorage.setItem('transactions', JSON.stringify(transactions));
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–º—É –≤ localStorage
        localStorage.setItem('isDarkTheme', isDarkTheme.toString());
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–æ–Ω –≤ localStorage
        localStorage.setItem('background', currentBackground);
    }
    
    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã
    function applyTheme() {
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É
        if (isDarkTheme) {
            document.body.classList.add('dark-theme');
            document.querySelector('.theme-toggle').textContent = '‚òÄÔ∏è';
        } else {
            document.body.classList.remove('dark-theme');
            document.querySelector('.theme-toggle').textContent = 'üåô';
        }
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ñ–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
        document.body.style.backgroundImage = `url('${currentBackground}')`;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–æ–Ω –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
        document.querySelectorAll('.theme-option').forEach(option => {
            option.classList.remove('selected');
            if (option.getAttribute('data-bg') === currentBackground) {
                option.classList.add('selected');
            }
        });
    }
    
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
    function toggleTheme() {
        isDarkTheme = !isDarkTheme;
        applyTheme();
        saveData();
    }
    
    // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –≤—ã–±–æ—Ä–∞ —Ñ–æ–Ω–∞
    function openThemeModal() {
        document.getElementById('themeModal').style.display = 'flex';
    }
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function closeThemeModal() {
        document.getElementById('themeModal').style.display = 'none';
    }
    
    // –í—ã–±–æ—Ä —Ñ–æ–Ω–∞
    function selectBackground(bgUrl) {
        currentBackground = bgUrl;
        applyTheme();
        saveData();
        closeThemeModal();
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        setTimeout(() => alert('–§–æ–Ω –∏–∑–º–µ–Ω–µ–Ω!'), 300);
    }
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
    function updateUI() {
        const balanceElement = document.getElementById('balance');
        const incomeTotalElement = document.getElementById('income-total');
        const expenseTotalElement = document.getElementById('expense-total');
        const transactionListElement = document.getElementById('transaction-list');
        
        // –†–∞—Å—á–µ—Ç –±–∞–ª–∞–Ω—Å–∞, –¥–æ—Ö–æ–¥–æ–≤ –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤
        const amounts = transactions.map(transaction => {
            if (transaction.type === 'income') {
                return transaction.amount;
            } else {
                return -transaction.amount;
            }
        });
        
        const total = amounts.reduce((acc, item) => acc + item, 0).toFixed(2);
        const income = amounts.filter(item => item > 0).reduce((acc, item) => acc + item, 0).toFixed(2);
        const expense = (amounts.filter(item => item < 0).reduce((acc, item) => acc + item, 0) * -1).toFixed(2);
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–∏—Å–µ–ª
        balanceElement.textContent = `${formatNumber(total)} ‚ÇΩ`;
        incomeTotalElement.textContent = `${formatNumber(income)} ‚ÇΩ`;
        expenseTotalElement.textContent = `${formatNumber(expense)} ‚ÇΩ`;
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
        if (transactions.length === 0) {
            transactionListElement.innerHTML = '<div class="empty-state">–ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π</div>';
        } else {
            transactionListElement.innerHTML = '';
            transactions.slice().reverse().forEach(transaction => {
                const transactionElement = document.createElement('div');
                transactionElement.className = 'transaction-item';
                
                const emojiMap = {
                    'salary': 'üíº',
                    'freelance': 'üíª',
                    'investment': 'üìà',
                    'gift': 'üéÅ',
                    'other-income': 'üí∞',
                    'products': 'üçé',
                    'transport': 'üöó',
                    'house': 'üè†',
                    'cafe': 'üçî',
                    'health': 'üíä',
                    'entertainment': 'üé¨',
                    'clothes': 'üëï',
                    'other-expense': 'üí∏'
                };
                
                transactionElement.innerHTML = `
                    <div>${emojiMap[transaction.category] || 'üí∞'}</div>
                    <div class="transaction-details">
                        <div>${transaction.description}</div>
                        <div class="transaction-category">${getCategoryName(transaction.category)}</div>
                    </div>
                    <div class="transaction-amount ${transaction.type}">
                        ${transaction.type === 'income' ? '+' : '-'} ${formatNumber(transaction.amount)} ‚ÇΩ
                    </div>
                `;
                
                transactionListElement.appendChild(transactionElement);
            });
        }
    }
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    function getCategoryName(category) {
        const categories = {
            'salary': '–ó–∞—Ä–ø–ª–∞—Ç–∞',
            'freelance': '–§—Ä–∏–ª–∞–Ω—Å',
            'investment': '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏',
            'gift': '–ü–æ–¥–∞—Ä–∫–∏',
            'other-income': '–î—Ä—É–≥–æ–π –¥–æ—Ö–æ–¥',
            'products': '–ü—Ä–æ–¥—É–∫—Ç—ã',
            'transport': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
            'house': '–ñ–∏–ª—å–µ',
            'cafe': '–ö–∞—Ñ–µ –∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã',
            'health': '–ó–¥–æ—Ä–æ–≤—å–µ',
            'entertainment': '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è',
            'clothes': '–û–¥–µ–∂–¥–∞',
            'other-expense': '–î—Ä—É–≥–∏–µ —Ä–∞—Å—Ö–æ–¥—ã'
        };
        
        return categories[category] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ';
    }
    
    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    function addTransaction(type) {
        const description = document.getElementById('description').value;
        const amount = parseFloat(document.getElementById('amount').value);
        const category = document.getElementById('category').value;
        
        if (!description || isNaN(amount) || amount <= 0 || !category) {
            alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ');
            return;
        }
        
        const transaction = {
            id: Date.now(),
            type,
            description,
            amount,
            category,
            date: new Date().toLocaleDateString('ru-RU')
        };
        
        transactions.push(transaction);
        saveData();
        
        // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
        document.getElementById('description').value = '';
        document.getElementById('amount').value = '';
        document.getElementById('category').value = '';
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
        updateUI();
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        alert(`${type === 'income' ? '–î–æ—Ö–æ–¥' : '–†–∞—Å—Ö–æ–¥'} –¥–æ–±–∞–≤–ª–µ–Ω`);
    }
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    loadData();
    
    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
    window.onclick = function(event) {
        const modal = document.getElementById('themeModal');
        if (event.target === modal) {
            closeThemeModal();
        }
    }
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ–Ω–∞
    document.querySelectorAll('.theme-option').forEach(option => {
        option.addEventListener('click', function() {
            selectBackground(this.getAttribute('data-bg'));
        });
    });
</script>
</body>
</html>
